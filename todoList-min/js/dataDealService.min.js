!function(t){t.module("dataDealService",[]).service("DataService",["$window",function(t){var e=[];this.getlocalData=function(){return e=JSON.parse(t.localStorage.getItem("todoList"))},this.saveLocalData=function(){t.localStorage.setItem("todoList",JSON.stringify(e))},this.addTask=function(t){var a=e.length?e[e.length-1].id+1:1;e.push({id:a,name:t,isCompleted:!1}),this.saveLocalData()},this.removeTask=function(t){e.every(function(a,i){return a.id!=t||(e.splice(i,1),!1)}),this.saveLocalData()},this.updataTask=function(){},this.getUnCompletedTasks=function(){for(var t=0,a=0;a<e.length;a++)e[a].isCompleted||t++;return t},this.needShow=function(){var t=!1;return e.every(function(e,a){return!e.isCompleted||(t=!0,!1)}),t},this.removeCompletedTasks=function(){for(var t=e.length-1;t>=0;t--)e[t].isCompleted&&e.splice(t,1);this.saveLocalData()},this.isAllCompleted=function(t){t?e.forEach(function(t){t.isCompleted=!0}):e.forEach(function(t){t.isCompleted=!1}),this.saveLocalData()},this.checkAllTasksCompleteStatus=function(){var t=0;return e.forEach(function(e){e.isCompleted&&t++}),t===e.length}}])}(angular);